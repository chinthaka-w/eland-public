<div class="page-header-default" *ngIf="!isContinueToPayment">
    <h2>{{'CHANGE_NAME.TITLE1'|translate}}</h2>
    <p>{{'CHANGE_NAME.TITLE2'|translate}}<br />{{'CHANGE_NAME.TITLE3'|translate}}</p>
  <a href="#" (click)="goBack()" class="phd-back-btn">
    <i class="material-icons">keyboard_backspace</i>
  </a>
</div>
<form class="form-horizontal" *ngIf="!isContinueToPayment"  [formGroup]="notaryForm">
    <div class="page-content-wrapper">
        <div class="page-content-inner-wrapper">

            <div class="pg-inner-row mb-20">
                <div class="pg-inner-col">
                    <h5 class="mb-20"><i class="material-icons">description</i>
                      {{'CHANGE_NAME.TITLE4'|translate}}
                    </h5>
                    <div class="separator">&nbsp;</div>
                </div>
            </div>


            <div class="pg-inner-row mb-20">
                <div class="right">
                    <div class="default-input-wrapper m0 rac-col">
                        <label>{{'CHANGE_NAME.LANGUAGE'|translate}}</label>
                        <div class="default-input-feild">
                          <section class="example-section">
                            <mat-checkbox class="pr-3"  disabled="true" [checked]="true" (change)="addLanguageList(3)">{{'CHANGE_NAME.ENGLISH'|translate}}</mat-checkbox>
                            <mat-checkbox class="pr-3" [disabled]="true" [checked]="isSinhalaCertificate" (change)="addLanguageList(1)">{{'CHANGE_NAME.SINHALA'|translate}}</mat-checkbox>
                            <mat-checkbox class="pr-3" [disabled]="true" [checked]="isTamilCertificate" (change)="addLanguageList(2)">{{'CHANGE_NAME.TAMIL'|translate}}</mat-checkbox>
                          </section>
                        </div>
                    </div>
                </div>
            </div>

          <div class="default-input-wrapper full-row">
            <label>{{'CHANGE_NAME.NAME_TITLE'|translate}}: <span class="redtxt">*</span></label>
            <div class="default-input-feild">
              <mat-form-field appearance="outline">
                <select matNativeControl required  formControlName="title"  class="form-control">
                  <option [value]="null" disabled selected>{{'CHANGE_NAME.SELECT_TITLE'|translate}}</option>
                  <option *ngFor="let title of nameTitles"
                          [value]="title.nameTitleId"
                  >
                    {{title.titleEng|listTranslate:title.titleSin:title.titleTam }}
                  </option>
                </select>
              </mat-form-field>
            </div>
          </div>
          <div class="default-input-wrapper full-row">
            <label>{{'CHANGE_NAME.NWI_E'|translate}}: <span class="redtxt">*</span></label>
            <div class="default-input-feild">
              <mat-form-field appearance="outline">
                <input matInput class="form-control" formControlName="newInitialNameInEnglish" maxlength="255">
              </mat-form-field>
              <div *ngIf="FormControls.newInitialNameInEnglish.touched && FormControls.newInitialNameInEnglish.errors"
                   class="invalid-feedback">
                <mat-error *ngIf="FormControls.newInitialNameInEnglish.errors.required" class="errors">
                  {{'CHANGE_NAME.NWI_E'|translate}} {{'NOTARY.REQUIRED'|translate}}
                </mat-error>
                <mat-error *ngIf="FormControls.newInitialNameInEnglish.errors.pattern" class="errors">
                  {{'CHANGE_NAME.NWI_E'|translate}} {{'NOTARY.INVALID'|translate}}
                </mat-error>
                <mat-error *ngIf="FormControls.newInitialNameInEnglish.errors.maxlength" class="errors">
                  {{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}
                </mat-error>
              </div>
            </div>
          </div>
            <div class="default-input-wrapper full-row">
                <label>{{'CHANGE_NAME.FULL_NAME_E'|translate}}: <span class="redtxt">*</span></label>
                <div class="default-input-feild">
                    <mat-form-field appearance="outline">
                        <input matInput class="form-control" formControlName="newFullNameInEnglish" maxlength="255">
                    </mat-form-field>
                  <div *ngIf="FormControls.newFullNameInEnglish.touched && FormControls.newFullNameInEnglish.errors"
                       class="invalid-feedback">
                    <mat-error *ngIf="FormControls.newFullNameInEnglish.errors.required" class="errors">
                      {{'CHANGE_NAME.FULL_NAME_E'|translate}} {{'NOTARY.REQUIRED'|translate}}
                    </mat-error>
                    <mat-error *ngIf="FormControls.newFullNameInEnglish.errors.pattern" class="errors">
                      {{'CHANGE_NAME.FULL_NAME_E'|translate}} {{'NOTARY.INVALID'|translate}}
                    </mat-error>
                    <mat-error *ngIf="FormControls.newFullNameInEnglish.errors.maxlength" class="errors">
                      {{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}
                    </mat-error>
                  </div>
                </div>
            </div>
          <div class="default-input-wrapper full-row">
            <label>{{'CHANGE_NAME.NWI_S'|translate}}: <span *ngIf="isSinhalaCertificate" class="redtxt">*</span></label>
            <div class="default-input-feild">
              <mat-form-field appearance="outline">
                <input matInput class="form-control" formControlName="newInitialNameInSinhala" maxlength="255">
              </mat-form-field>
              <div *ngIf="FormControls.newInitialNameInSinhala.touched && FormControls.newInitialNameInSinhala.errors"
                   class="invalid-feedback">
                <mat-error *ngIf="FormControls.newInitialNameInSinhala.errors.required" class="errors">
                  {{'CHANGE_NAME.NWI_S'|translate}} {{'NOTARY.REQUIRED'|translate}}
                </mat-error>
                <mat-error *ngIf="FormControls.newInitialNameInSinhala.errors.pattern" class="errors">
                  {{'CHANGE_NAME.NWI_S'|translate}} {{'NOTARY.INVALID'|translate}}
                </mat-error>
                <mat-error *ngIf="FormControls.newInitialNameInSinhala.errors.maxlength" class="errors">
                  {{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}
                </mat-error>
              </div>
            </div>
          </div>
            <div class="default-input-wrapper full-row">
                <label>{{'CHANGE_NAME.FULL_NAME_S'|translate}}: <span *ngIf="isSinhalaCertificate" class="redtxt">*</span></label>
                <div class="default-input-feild">
                    <mat-form-field appearance="outline">
                        <input matInput class="form-control" formControlName="newFullNameInSinhala" maxlength="255">
                    </mat-form-field>
                  <div *ngIf="FormControls.newFullNameInSinhala.touched && FormControls.newFullNameInSinhala.errors"
                       class="invalid-feedback">
                    <mat-error *ngIf="FormControls.newFullNameInSinhala.errors.required" class="errors">
                      {{'CHANGE_NAME.FULL_NAME_S'|translate}} {{'NOTARY.REQUIRED'|translate}}
                    </mat-error>
                    <mat-error *ngIf="FormControls.newFullNameInSinhala.errors.pattern" class="errors">
                      {{'CHANGE_NAME.FULL_NAME_S'|translate}} {{'NOTARY.INVALID'|translate}}
                    </mat-error>
                    <mat-error *ngIf="FormControls.newFullNameInSinhala.errors.maxlength" class="errors">
                      {{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}
                    </mat-error>
                  </div>
                </div>
            </div>
          <div class="default-input-wrapper full-row">
            <label>{{'CHANGE_NAME.NWI_T'|translate}}: <span *ngIf="isTamilCertificate" class="redtxt">*</span></label>
            <div class="default-input-feild">
              <mat-form-field appearance="outline">
                <input matInput class="form-control" formControlName="newInitialNameInTamil" maxlength="255">
              </mat-form-field>
              <div *ngIf="FormControls.newInitialNameInTamil.touched && FormControls.newInitialNameInTamil.errors"
                   class="invalid-feedback">
                <mat-error *ngIf="FormControls.newInitialNameInTamil.errors.required" class="errors">
                  {{'CHANGE_NAME.NWI_T'|translate}} {{'NOTARY.REQUIRED'|translate}}
                </mat-error>
                <mat-error *ngIf="FormControls.newInitialNameInTamil.errors.pattern" class="pattern">
                  {{'CHANGE_NAME.NWI_T'|translate}} {{'NOTARY.INVALID'|translate}}
                </mat-error>
                <mat-error *ngIf="FormControls.newInitialNameInTamil.errors.maxlength" class="errors">
                  {{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}
                </mat-error>
              </div>
            </div>
          </div>
            <div class="default-input-wrapper full-row">
                <label>{{'CHANGE_NAME.FULL_NAME_T'|translate}}: <span *ngIf="isTamilCertificate" class="redtxt">*</span></label>
                <div class="default-input-feild">
                    <mat-form-field appearance="outline">
                        <input matInput class="form-control" formControlName="newFullNameInTamil" maxlength="255">
                    </mat-form-field>
                  <div *ngIf="FormControls.newFullNameInTamil.touched && FormControls.newFullNameInTamil.errors"
                       class="invalid-feedback">
                    <mat-error *ngIf="FormControls.newFullNameInTamil.errors.required" class="errors">
                      {{'CHANGE_NAME.FULL_NAME_T'|translate}} {{'NOTARY.REQUIRED'|translate}}
                    </mat-error>
                    <mat-error *ngIf="FormControls.newFullNameInTamil.errors.pattern" class="errors">
                      {{'CHANGE_NAME.FULL_NAME_T'|translate}} {{'NOTARY.INVALID'|translate}}
                    </mat-error>
                    <mat-error *ngIf="FormControls.newFullNameInTamil.errors.maxlength" class="errors">
                      {{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}
                    </mat-error>
                  </div>
                </div>
            </div>

          <div class="separator mt-30">&nbsp;</div>

          <div class="pg-inner-row mb-20 upload-col-3">
            <div class="pg-inner-col-3" *ngFor="let document of docList">
              <div class="default-input-wrapper full-row">
                <label>{{document.description|listTranslate:document.descriptionSin:document.descriptionTam}}
                  <span *ngIf="document.required">*</span></label>
                <file-upload-input [document]="document"
                                   [invalid]="document.invalid && document.selected"
                                   (response)="setFiles($event,document)">
                </file-upload-input>
                <mat-error *ngIf="!document.error && document.invalid && document.selected">Document required</mat-error>
                <mat-error *ngIf="document.error">{{document.errorMsg}}</mat-error>
              </div>
            </div>
          </div>

          <div class="separator">&nbsp;</div>

          <div class="pg-inner-row mb-0">
            <div class="pg-inner-col float-right" *ngIf="!isPaymentSuccess">
              <button [disabled]="!isDataChanged || notaryForm.invalid || checkDocumentValidation()"
                      mat-raised-button class="lg-button float-right" (click)="onClickSubmitSearchRequest()">
                {{'BUTTONS.CONTINUE_BUTTON'|translate}}
              </button>
            </div>
            <div class="pg-inner-col right" *ngIf="isPaymentSuccess">
              <button mat-raised-button class="lg-button"  (click)="onFormSubmit()">
                {{'BUTTONS.SUBMIT_BUTTON'|translate}}
              </button>
            </div>
          </div>
        </div>
    </div>
</form>
<app-payment *ngIf="isContinueToPayment" (response)="onPaymentResponse($event)"
             (paymentMethodResponse) = paymentMethodResponse($event)
             [statusOnlinePayment] = "statusOnlinePayment"
             [returnUrl]="returnURl"
             (back)="onBack($event)"
             [applicationFeeCode]="Parameters.NOTARY_NAME_CHANGE_FEE"
             [hasFrontCounterPayment]="false"
             [isDocumentCollect]="true"
             [workflowCode]="Workflow.NOTARY_NAME_CHANGE"
             [workflowStageCode]="NameChangeWorkflowStagesEnum.NAME_CHANGE_REQUEST_INITIALIZED"
             [userType]="userType"
             [userId]="notaryId"
             >
            </app-payment>
