<div class="page-header-default" *ngIf="!isContinueToPayment">
  <h2>{{'CHG_JUD_ZONE.TITLE1'|translate}} </h2>
  <p>{{'CHG_JUD_ZONE.TITLE2'|translate}}</p>
  <a href="#" (click)="goBack()" class="phd-back-btn">
    <i class="material-icons">keyboard_backspace</i>
  </a>
</div>
<div class="page-content-wrapper" *ngIf="!(isContinue)">
  <div class="page-content-inner-wrapper">

    <div class="pg-inner-row mb-20">
      <h5 class="mb-20"><i class="material-icons">description</i>
        {{'CHG_JUD_ZONE.TITLE4'|translate}}
      </h5>
      <div class="separator">&nbsp;</div>
    </div>
    <form [formGroup]="judicialChangeForm" class="form pb-5">
      <div class="pg-inner-row mb-20">

        <div class="pg-inner-col right">
          <div class="default-input-wrapper m0 rac-col">
            <label>{{'CHG_JUD_ZONE.LANGUAGE'|translate}}</label>
            <div class="default-input-feild">
              <section class="example-section">
                <mat-checkbox class="example-margin" disabled="true" [checked]="isSinhala">{{'CHG_JUD_ZONE.SINHALA'|translate}}</mat-checkbox>
                <mat-checkbox class="example-margin" disabled="true" [checked]="isEnglish">{{'CHG_JUD_ZONE.ENGLISH'|translate}}</mat-checkbox>
                <mat-checkbox class="example-margin" disabled="true" [checked]="isTamil">{{'CHG_JUD_ZONE.TAMIL'|translate}}</mat-checkbox>
              </section>
            </div>
          </div>
        </div>
      </div>
      <div>&nbsp;</div>
      <div>&nbsp;</div>

      <div class="pg-inner-row mb-20">
        <div class="pg-inner-col-3">
          <div class="default-input-wrapper full-row">
            <label>{{'CHG_JUD_ZONE.PER_ADD_JUD_ENG'|translate}} <span *ngIf="isAddEngMandatory" class="redtxt">*</span> </label>
            <div class="default-input-feild">
              <mat-form-field appearance="outline" >
                <textarea matInput rows="5" formControlName="addressEng"></textarea>
              </mat-form-field>
              <div *ngIf="addressEng.invalid && (addressEng.dirty || addressEng.touched)">
                <mat-error *ngIf="addressEng.errors.required" class="errors">{{'CHG_JUD_ZONE.FILL_REQUIRED'|translate}}</mat-error>
                <mat-error *ngIf="addressEng.errors.maxlength" class="errors">{{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}</mat-error>
                <mat-error *ngIf="addressEng.errors.pattern" class="errors">{{'CHG_JUD_ZONE.VALID_ADDRESS'|translate}}</mat-error>
              </div>
            </div>
          </div>
        </div>
        <div class="pg-inner-col-3">
          <div class="default-input-wrapper full-row">
            <label>{{'CHG_JUD_ZONE.PER_ADD_JUD_SIN'|translate}} <span *ngIf="isAddSinMandatory" class="redtxt">*</span> </label>
            <div class="default-input-feild">
              <mat-form-field appearance="outline" >
                <textarea matInput rows="5" formControlName="addressSin"></textarea>
              </mat-form-field>
              <div *ngIf="addressSin.invalid && (addressSin.dirty || addressSin.touched)">
                <mat-error *ngIf="addressSin.errors.required" class="errors">{{'CHG_JUD_ZONE.FILL_REQUIRED'|translate}}</mat-error>
                <mat-error *ngIf="addressSin.errors.maxlength" class="errors">{{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}</mat-error>
                <mat-error *ngIf="addressSin.errors.pattern" class="errors">{{'CHG_JUD_ZONE.VALID_ADD_SIN'|translate}}</mat-error>
              </div>
            </div>
          </div>
        </div>
        <div class="pg-inner-col-3">
          <div class="default-input-wrapper full-row">
            <label>{{'CHG_JUD_ZONE.PER_ADD_JUD_TAM'|translate}} <span *ngIf="isAddTamMandatory" class="redtxt">*</span> </label>
            <div class="default-input-feild">
              <mat-form-field appearance="outline" >
                <textarea matInput rows="5" formControlName="addressTam"></textarea>
              </mat-form-field>
              <div *ngIf="addressTam.invalid && (addressTam.dirty || addressTam.touched)">
                <mat-error *ngIf="addressTam.errors.required" class="errors">{{'CHG_JUD_ZONE.FILL_REQUIRED'|translate}}</mat-error>
                <mat-error *ngIf="addressTam.errors.maxlength" class="errors">{{'VALIDATION.MAX_LENGTH_255_ERR'|translate}}</mat-error>
                <mat-error *ngIf="addressTam.errors.pattern" class="errors">{{'CHG_JUD_ZONE.VALID_ADD_TAM'|translate}}</mat-error>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="separator">&nbsp;</div>

      <label>{{'CHG_JUD_ZONE.DETAIL_JUD'|translate}}</label>
      <div>&nbsp;</div>
      <div class="pg-inner-row mb-20">
        <div class="pg-inner-col label">
          <label>{{'CHG_JUD_ZONE.JUDIZIAL_ZONE'|translate}} <span class="redtxt">*</span> </label></div>
        <div class="pg-inner-col">
          <div class="default-input-wrapper full-row">

            <div class="default-input-feild">
                <mat-select formControlName="judicialZoneId" class="form-control" placeholder="{{'CHG_JUD_ZONE.JUDIZIAL_ZONE'|translate}}">
                  <mat-option *ngFor="let jud of judicialZone" [value]="jud.id">{{ jud.nameEng|listTranslate:jud.nameSin:jud.nameTam}}
                  </mat-option>
                </mat-select>
              <div *ngIf="judicialZoneId.invalid && (judicialZoneId.touched || judicialZoneId.dirty)">
                <mat-error *ngIf="judicialZoneId.errors.required" class="errors">{{'CHG_JUD_ZONE.FILL_REQUIRED'|translate}}
                </mat-error>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pg-inner-row mb-20">
        <div class="pg-inner-col label">
          <label>{{'CHG_JUD_ZONE.LAND_REG'|translate}} <span class="redtxt">*</span> </label></div>
        <div class="pg-inner-col">
          <div class="default-input-wrapper full-row">
            <div class="default-input-feild">
                <mat-select name="landRegistry" formControlName="landRegistry" class="form-control"
                  placeholder="{{'CHG_JUD_ZONE.SELECT_LAND'|translate}}">
                  <mat-option *ngFor="let reg of landRegistries" [value]="reg.code">{{ reg.description |listTranslate:reg.descriptionSin:reg.descriptionTam}}
                  </mat-option>
                </mat-select>
              <div *ngIf="landRegistry.invalid && (landRegistry.touched || landRegistry.dirty)"
                   class="invalid-feedback">
                <mat-error *ngIf="landRegistry.errors.required" class="errors">{{'CHG_JUD_ZONE.FILL_REQUIRED'|translate}}</mat-error>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pg-inner-row mb-20">
        <div class="pg-inner-col">
          <div class="default-input-wrapper full-row">
            <label>{{'CHG_JUD_ZONE.DS_DIV'|translate}} <span class="redtxt">*</span> </label>
            <div class="default-input-feild">
              <mat-select class="form-control" formControlName="dsDivision" class="form-control"
                placeholder="{{'CHG_JUD_ZONE.SLECT_DS'|translate}}">
                <mat-option *ngFor="let gsDivision of gsDivisions" value="{{gsDivision.divisionId}}"
                  [disabled]="gsDivision.isSelected">{{ gsDivision.description|listTranslate:gsDivision.descriptionSin: gsDivision.descriptionTam }}</mat-option>
              </mat-select>
              <div *ngIf="dsDivision.invalid && (dsDivision.touched || dsDivision.dirty)">
                <mat-error *ngIf="dsDivision.errors.required" class="errors">{{'CHG_JUD_ZONE.FILL_REQUIRED'|translate}}</mat-error>
              </div>
            </div>
          </div>
        </div>

        <div class="pg-inner-col">
          <div class="default-input-wrapper full-row">
            <label>{{'CHG_JUD_ZONE.GN_DIV'|translate}} <span class="redtxt">*</span> </label>
            <div class="default-input-feild">
              <mat-select multiple class="form-control" formControlName="gnDivision" class="form-control"
                    (selectionChange)="selectGnDivision($event)" placeholder="{{'CHG_JUD_ZONE.SELECT_GN'|translate}}"
                    focused="isGnFocus">
                      <mat-option *ngFor="let gnDivision of gnDivisions" [value]="gnDivision.gnDivisionId">
                        {{ gnDivision.description| listTranslate: gnDivision.descriptionSin: gnDivision.descriptionTamil}}
                      </mat-option>
                  </mat-select>
                  <div *ngIf="gnDivision.invalid && (gnDivision.touched || gnDivision.dirty)">
                    <mat-error *ngIf="gnDivision.errors.required" class="errors">{{'CHG_JUD_ZONE.FILL_REQUIRED'|translate}}</mat-error>
                  </div>
            </div>
          </div>
        </div>

      </div>

      <div class="separator">&nbsp;</div>

      <div class="pg-inner-row mb-20 upload-col-3">
        <ng-container *ngFor="let document of docList">
          <div class="pg-inner-col-3">
            <div class="default-input-wrapper full-row">
              <label>{{document.description|listTranslate:document.descriptionSin:document.descriptionTam}}
                <span *ngIf="document.required">*</span></label>
              <file-upload-input [document]="document"
                                 [invalid]="document.invalid && document.selected"
                                 (response)="setFiles($event,document)">
              </file-upload-input>
              <mat-error *ngIf="!document.error && document.invalid && document.selected">Document required</mat-error>
              <mat-error *ngIf="document.error">{{document.errorMsg}}</mat-error>
            </div>
          </div>
        </ng-container>
      </div>


      <div class="separator">&nbsp;</div>

      <div class="pg-inner-row mb-0 pg-form-bottom-3-col">
        <div class="pg-inner-col">
          <re-captcha formControlName="recaptcha"></re-captcha>
        </div>
        <div class="pg-inner-col middle">
          {{'CHG_JUD_ZONE.TITLE5'|translate}}
          <a href="#">{{'CHG_JUD_ZONE.TITLE6'|translate}}</a> , <a href="#">{{'CHG_JUD_ZONE.TITLE7'|translate}}</a>
          {{'COMMON.AND'| translate}} <a href="#">{{'CHG_JUD_ZONE.TITLE8'|translate}}</a> .
        </div>
        <div class="pg-inner-col right" *ngIf="!isPaymentSuccess">
          <button [disabled]="judicialChangeForm.invalid || checkDocumentValidation()" mat-raised-button class="lg-button" (click)="continue()">
            {{'CHG_JUD_ZONE.CONTINUE'|translate}}
          </button>
        </div>
        <!--<div class="pg-inner-col right" *ngIf="isPaymentSuccess">-->
          <!--<button mat-raised-button class="lg-button" (click)="submitForm()">-->
            <!--Submit-->
          <!--</button>-->
        <!--</div>-->
      </div>
    </form>
  </div>
</div>
<!--<app-payment *ngIf="isContinueToPayment" (response)="onPaymentResponse($event)"-->
             <!--(back)="onBack($event)"-->
             <!--[applicationFeeCode]="Parameters.SEARCH_REQUEST_FEE"-->
             <!--[hasFrontCounterPayment]="true"-->
             <!--[isDocumentCollect]="true"-->
             <!--[workflowCode]="WorkflowCode.JUDICIAL_CHANGE_REQUEST_INITIATED"></app-payment>-->
<div class="page-content-wrapper" *ngIf="isContinue">
  <div class="page-content-inner-wrapper">
    <app-payment (response)="onPaymentResponse($event)"
                 (paymentMethodResponse) = paymentMethodResponse($event)
                 [statusOnlinePayment] = "statusOnlinePayment"
                 [returnUrl]="returnURl"
                 (back)="onBack($event)"
                 [applicationFeeCode]="Parameters.JUDICIAL_CHANGE_FEE"
                 [isDocumentCollect]="true"
                 [workflowStageCode]="WorkflowCode.JUDICIAL_CHANGE_REQUEST_INITIATED"
                 [workflowCode]="Workflow.JUDICIAL_ZONE_CHANGE"
                 [userType]="userType"
                 [userId]="userId"
                 >
                </app-payment>
  </div>
</div>
